В данном примере у нас два окружения в папке environments (prod, stage), соответственно два inventory файла.
По умолчанию в ansible.cfg используется окружение stage.
Для запуска в prod окружении используем: 
ansible-playbook -i ./environments/prod/inventory playbook_httpd.yml 

# Ansible-2 - Role
Задания:

№1
Вот из этого плейбука (без Grub и NM) из первой домашки:
    "1. Создайте плэйбук, выполняющий установку веб-сервера Apache на
    управляемом хосте со следующими требованиями:
    - установка пакета httpd;
    - включение службы веб-сервера и проверка, что он запущен;
    - создание файла /var/www/html/index.html с текстом "Welcome to my
    web server";
    - используйте модуль firewalld для того, чтобы открыть необходимые
    для работы веб-сервера порты брендмауэра;"
сделайте роль.
Что хотелось бы видеть - активное использование переменных, хендлеров и т.п., что мы рассматривали в рамках нашего курса (можно и больше).

№2
Напишите плэйбук, который устанавливает и включает FTP (пакет vsftpd), открывает необходимые порты. Определите в переменных необходимые параметры конфигурации ftp-сервера и используйте их в j2-шаблоне для конфига vsftpd.conf:
    - разрешен анонимный доступ и аплоад файлов
    - /var/ftp/pub - настроены необходимые разрешения и соответствующий SELinux контекст
    - SELinux "ftpd_anon_write" boolean - значение "on" 
